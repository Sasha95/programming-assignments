\section{Структуры и классы}

\subsection{Структуры}

\task Описать структуру \Lst{Sequence}, соответствующую числовым
последовательностям. Последовательность задаётся начальным членом
$a_0$ и функцией $f$ (эта функция — часть структуры). Каждый член
кроме первого определяется через предыдущий:
\[
a_{k+1} = f(a_k).
\]
Написать функцию, находящую $n$-й член последовательности.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{LinearEquation}, соответствующую линейному
уравнению. Уравнение $ax+b=c$ задаётся коэффициентами $a$, $b$ и $c$.
Определить функцию, находящую корень линейного уравнения.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{Interval}, соответствующую отрезкам
числовой прямой. Отрезок $[a, b]$ задаётся своими концами. Определить
функцию, возвращающую длину общей части двух отрезков или ноль, если
они не пересекаются.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных.

\task Описать структуру \Lst{Circle}, соответствующую
окружностям. Окружность задаётся координатами центра и
радиусом. Определить функцию, проверяющую, пересекаются ли две
окружности.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{GeometricProgression}, соответствующую
геометрическим прогрессиям. Определить функцию, находящую сумму
бесконечного числа членов прогрессии.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{Date}, соответствующую датам
григорианского календаря после 1583~г. Дата задаётся тройкой: день
$d$, месяц $m$ и год $y.$ Определить функцию, возвращающую название
дня недели, соответствующего дате.

Номер дня недели $N$ можно вычислить по следующим формулам.
\begin{eqnarray*}
a &=& \left\lfloor\frac{14 - m}{12}\right\rfloor,\\
Y &=& y - a,\\
M &=& m + 12a - 2,\\
N &\equiv& \left( 7000 + d + Y
+ \left\lfloor\frac{Y}{4}\right\rfloor
- \left\lfloor\frac{Y}{100}\right\rfloor
+ \left\lfloor\frac{Y}{400}\right\rfloor
+ \left\lfloor\frac{31M}{12}\right\rfloor
\right) \mod{7}.
\end{eqnarray*}
Если $N$ равен 0, то результат — воскресенье, 1 — понедельник, 2 —
вторник и т.~д.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{Triangle}, соответствующую
треугольникам. Треугольник задаётся длинами сторон $a$, $b$ и $c$.
Определить функцию, вычисляющую его углы.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{Point2}, соответствующую точкам на
плоскости. Определить функцию, вычисляющую расстояние от некоторой
точки до прямой, заданной двумя другими точками.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{Time}, соответствующую моментам
времени. Время задаётся как тройка: часы ($h$), минуты ($m$) и секунды
($s$). Определить функцию, вычисляющую количество секунд между двумя
моментами.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.

\task Описать структуру \Lst{Line}, соответствующую прямым на
плоскости. Прямая задаётся коэффициентами $A$, $B$ и $С$ уравнения
\[
Ax+By+C=0.
\]
Определить функцию, находящую координаты точки пересечения двух
прямых.

Написать программу, использующую эту функцию. Предусмотреть обработку
исключительных ситуаций.


\subsection{Классы и перегрузка операций}

\task Описать класс комплексных чисел \Lst{Complex}. Комплексные числа
имеют вид $a+bi,$ где $i=\sqrt{-1},$ $a,b \in \mathbb{R}$. Определить
в нем:
\begin{itemize*}
\item конструктор, принимающий действительную и мнимую часть;
\item копирующий конструктор;
\item методы \Lst{Re} и \Lst{Im}, возвращающие мнимую и действительную
  части;
\item методы \Lst{Abs} и \Lst{Arg}, возвращающие модуль и аргумент
  числа;
\item операции сложения, вычитания, умножения и деления (аргументы
  могут быть как комплексными, так и комплексным и действительным
  числами);
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Описать класс отрезков числовой прямой
\Lst{Interval}. Определить в нем:
\begin{itemize*}
\item конструктор, принимающий концы отрезка (должен корректно
  обрабатывать случаи, когда левый конец больше правого);
\item копирующий конструктор;
\item метод \Lst{Length}, возвращающий длину отрезка.
\item операции интервальной арифметики;
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Операции интервальной арифметики определяются следующим образом:
\begin{align*}
  [a_1, b_1] + [a_2, b_2] &= [a_1 + a_2, b_1 + b_2],\\
  [a_1, b_1] - [a_2, b_2] &= [a_1 - a_2, b_1 - b_2],\\
  [a_1, b_1] \times [a_2, b_2] &=
  [\min \{a_1a_2, a_1b_2, b_1a_2, b_1b_2\}, \max \{a_1a_2, a_1b_2, b_1a_2, b_1b_2\}],\\
  \frac{[a_1, b_1]}{[a_2, b_2]} &=
  \left[
    \min \left\{\frac{a_1}{a_2}, \frac{a_1}{b_2}, \frac{b_1}{a_2}, \frac{b_1}{b_2}\right\},
    \max \left\{\frac{a_1}{a_2}, \frac{a_1}{b_2}, \frac{b_1}{a_2}, \frac{b_1}{b_2}\right\}
    \right], \textrm{если } 0\not\in[c, d].
\end{align*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Описать класс \Lst{Matrix2} матриц вида $\begin{pmatrix}
  a_{11} & a_{12} \\
  a_{21} & a_{22}
\end{pmatrix},$ где $a_{ij} \in \mathbb{R}$. Определить в нем:
\begin{itemize*}
\item конструктор, принимающий четыре элемента матрицы;
\item конструктор, принимающий два элемента главной диагонали
  (остальные элементы равны нулю);
\item копирующий конструктор;
\item метод \Lst{Det}, возвращающий определитель матрицы;
\item метод \Lst{Inverse}, возвращающий обратную матрицу;
\item метод \Lst{Transpose}, возвращающий транспонированную матрицу;
\item операции сложения и вычитания матриц;
\item операции умножения и деления (аргументы могут быть как матрицами,
  так и матрицей и действительным числом);
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Описать класс \Lst{Polynomial2} квадратных многочленов вида
$ax^2+bx+c,$ где $a,b,c \in \mathbb{R}$. Определить в нем:
\begin{itemize*}
\item конструктор, принимающий коэффициенты многочлена;
\item копирующий конструктор;
\item метод \Lst{Value}, возвращающий значение многочлена в заданной
  точке;
\item операции сложения и вычитания;
\item операции умножения и деления на действительное число;
\item операцию вычисления остатка от деления одного многочлена на
  другой;
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Описать класс \Lst{Vector3} векторов в пространстве. Определить
в нем:
\begin{itemize*}
\item конструктор, принимающий координаты вектора;
\item копирующий конструктор;
\item метод \Lst{Length}, возвращающий длину вектора;
\item метод \Lst{Angle}, вычисляющий угол между текущим и другим
  вектором;
\item операции сложения и вычитания;
\item операцию скалярного умножения вектора на вектор;
\item операции умножения и деления на целое число;
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Описать класс \Lst{Money} денежных сумм, заданных в виде
количества рублей и копеек.  Определить в нем:
\begin{itemize*}
\item конструктор, принимающий количество рублей и копеек (должен
  корректно обрабатывать случаи, когда копеек больше 100, или
  количества рублей и копеек имеют разные знаки);
\item копирующий конструктор;
\item метод \Lst{TransferCost}, принимающий величину комиссии за
  денежный перевод в процентах и возвращающий его полную стоимость с
  точностью до копеек (например, для суммы 10~р.~15~к. и величины
  комиссии 5~\% полная стоимость составляет 10~р.~66~к.);
\item операции сложения и вычитания;
\item операции умножения и деления на действительное число (результат
  должен округляться до копеек);
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Описать класс \Lst{Fraction} дробей вида $\frac{m}{n},$ где
$m \in \mathbb{Z}, n \in \mathbb{N}$.  Определить в нем:
\begin{itemize*}
\item конструктор, принимающий числитель и знаменатель дроби (должен
  приводить дробь к несократимому виду);
\item копирующий конструктор;
\item метод \Lst{IntegerPart}, возвращающий целую часть дроби;
\item операции сложения, вычитания, умножения и деления (аргументы
  могут быть как дробями, так и дробью и целым числом);
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task В европейской музыке весь диапазон музыкальных звуков делится на
октавы, которые можно пронумеровать числами от $-3$ до $5$. Октавы с
неположительными номерами имеют собственные названия:
субконтроктава~($-3$), контроктава~($-2$), большая октава~($-1$),
малая октава~($0$).

В каждой октаве 12~музыкальных звуков (нот): до, до-диез, ре, ре-диез,
ми, фа, фа-диез, соль, соль-диез, ля, ля-диез, си.

Описать класс \Lst{Note} музыкальных звуков. Определить в нем:
\begin{itemize*}
\item конструктор, принимающий номер октавы и номер звука (считать,
  что нота до имеет номер $0$);
\item копирующий конструктор;
\item метод \Lst{Frequency}, возвращающий частоту ноты (нота ля первой
  октавы имеет частоту 440~Гц, частота каждой следующей ноты больше в
  $\sqrt[12]{2}$~раз);
\item операции прибавления и вычитания целого числа, позволяющие
  получить следующие и предыдущие звуки в общей последовательности;
\item переопределённый унаследованный \Lst{ToString}, возвращающий текстовое
  описание звука (например, «до-диез 2-й октавы» или «ля
  субконтроктавы»).
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Описать класс дат \Lst{Date}. Определить следующие методы:
\begin{itemize*}
\item конструктор, принимающий номера дня, месяца и года
  (рассматривать только положительные номера года);
\item копирующий конструктор;
\item методы \Lst{Next} и \Lst{Prev}, возвращающие следующий или
  предыдущий день;
\item метод \Lst{IsLeapYear}, проверяющий, является ли текущий год
  високосным;
\item операции прибавления и вычитания целого числа, позволяющие
  получить следующие за текущим или предыдущие дни;
\item переопределённый унаследованный \Lst{ToString}, возвращающий текстовое
  представление даты (например, «15 апреля 1707 г.»).
\end{itemize*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.

\task Дуальным числом называется число вида $a+b\varepsilon,$ где $a,
b \in \mathbb{R},$ а $\varepsilon \neq 0$ — абстрактная величина,
такая что $\varepsilon^2 = 0$.

Описать класс \Lst{DualNumber} дуальных чисел. Определить в нем:
\begin{itemize*}
\item конструктор, принимающий компоненты $a$ и $b$ дуального числа;
\item копирующий конструктор;
\item метод \Lst{Pow}, позволяющий возвести дуальное число в
  произвольную натуральную степень;
\item операции сложения, вычитания, умножения и деления (аргументы
  могут быть как дуальными числами, так и дуальным и действительным
  числами);
\item переопределённый унаследованный \Lst{ToString}.
\end{itemize*}

Операции над дуальными числами определены следующим образом:
\begin{align*}
  (a_1+b_1\varepsilon) + (a_2+b_2\varepsilon) &= (a_1+a_2) + (b_1+b_2)\varepsilon,\\
  (a_1+b_1\varepsilon) - (a_2+b_2\varepsilon) &= (a_1-a_2) + (b_1-b_2)\varepsilon,\\
  (a_1+b_1\varepsilon) \times (a_2+b_2\varepsilon) &= (a_1a_2) + (b_1a_2+a_1b_2)\varepsilon,\\
  \frac{a_1+b_1\varepsilon}{a_2+b_2\varepsilon} &=
  \frac{a_1}{a_2} + \frac{b_1a_2-a_1b_2}{a_2^2}\varepsilon.
\end{align*}

Предусмотреть возможные исключительные ситуации, если это необходимо.

Написать программу, использующую этот класс.
